<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SWITZEA Referat App - Testversion</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f5f5f5; margin: 0; }
        .app { display: flex; min-height: 100vh; }
        .sidebar { width: 280px; background: #fff; border-right: 1px solid #ddd; display: flex; flex-direction: column; }
        .sidebar h1 { background: #1976d2; color: white; padding: 15px; margin: 0; }
        .meetings-list { flex: 1; overflow-y: auto; padding: 10px; }
        .meeting { border: 1px solid #ddd; padding: 10px; margin-bottom: 10px; border-radius: 5px; cursor: pointer; }
        .main { flex: 1; padding: 20px; background: #fafafa; }
        button { background-color: #1976d2; color: white; border: none; padding: 10px 15px; margin: 5px 0; cursor: pointer; }
        button:hover { background-color: #1565c0; }
        textarea { width: 100%; min-height: 80px; border: 1px solid #ccc; border-radius: 4px; padding: 8px; }
        .agenda-point { background: #fff; padding: 10px; margin-bottom: 10px; border-left: 4px solid #1976d2; border-radius: 4px; }
        .meeting-header { border-bottom: 2px solid #1976d2; margin-bottom: 10px; }
    </style>
</head>
<body>
    <div class="app">
        <div class="sidebar">
            <h1>Referater (test)</h1>
            <button onclick="newMeeting()">Opret nyt referat</button>
            <div class="meetings-list" id="meetingsList"></div>
        </div>
        <div class="main">
            <div id="meetingContent">
                <h2>Vælg eller opret et referat</h2>
            </div>
        </div>
    </div>

    <script>
        const meetings = [];

        function newMeeting() {
            const id = Date.now();
            const data = {
                id,
                title: 'Nyt referat',
                date: new Date().toISOString().split('T')[0],
                agenda: [
                    'Punkt 1: Dagsorden',
                    'Punkt 2: Projekter – status og opgaver',
                    'Punkt 3: Effektivisering af tilbudsgivning',
                    'Punkt 4: Program/system for SWITZEA ApS',
                    'Punkt 5: Visitkort og profiltøj',
                    'Punkt 6: Eventuelt',
                    'Punkt 7: Næste statusmøde'
                ].map(p => ({ title: p, content: '' }))
            };
            meetings.push(data);
            renderMeetings();
        }

        function renderMeetings() {
            const listDiv = document.getElementById('meetingsList');
            listDiv.innerHTML = '';
            meetings.forEach(m => {
                const div = document.createElement('div');
                div.className = 'meeting';
                div.textContent = `${m.title} (${m.date})`;
                div.onclick = () => openMeeting(m.id);
                listDiv.appendChild(div);
            });
        }

        function openMeeting(id) {
            const meeting = meetings.find(x => x.id === id);
            const contentDiv = document.getElementById('meetingContent');
            contentDiv.innerHTML = `<div class='meeting-header'><h2>${meeting.title}</h2><p>${meeting.date}</p></div>`;
            meeting.agenda.forEach((point, i) => {
                const div = document.createElement('div');
                div.className = 'agenda-point';
                div.innerHTML = `<h4>${point.title}</h4><textarea id='a${i}' placeholder='Skriv tekst her...'>${point.content}</textarea>`;
                contentDiv.appendChild(div);
            });
            const saveBtn = document.createElement('button');
            saveBtn.textContent = 'Gem lokalt';
            saveBtn.onclick = () => saveMeeting(meeting.id);
            contentDiv.appendChild(saveBtn);
        }

        function saveMeeting(id) {
            const meeting = meetings.find(m => m.id === id);
            meeting.agenda.forEach((p, i) => {
                p.content = document.getElementById(`a${i}`).value;
            });
            localStorage.setItem('referater', JSON.stringify(meetings));
            alert('Referat gemt lokalt!');
        }

        window.onload = () => {
            const saved = localStorage.getItem('referater');
            if (saved) {
                meetings.push(...JSON.parse(saved));
                renderMeetings();
            }
        };
    </script>
</body>
</html>